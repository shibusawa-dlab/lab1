(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{515:function(t,e,r){"use strict";r.r(e);r(308);var n=r(27),o=r(37),c=r(42),l=r(35),f=r(28),h=r(13),d=r(181),v=r(521);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var y=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=function(t){Object(c.a)(r,t);var e=m(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"title",get:function(){return this.item.label}},{key:"url",get:function(){return this.item.url}}]),r}(d.Vue);y([Object(d.Prop)()],_.prototype,"item",void 0);var w=_=y([Object(d.Component)({components:{ShareButtons:v.default}})],_),R=r(103),k=r(142),x=r.n(k),j=r(235),C=r(218),O=r(470),component=Object(R.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{depressed:"",icon:""}},n),[r("v-icon",[t._v("mdi-share-variant")])],1)]}}])},[t._v(" "),r("ShareButtons",{attrs:{url:t.url,title:t.title}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{ShareButtons:r(521).default}),x()(component,{VBtn:j.a,VIcon:C.a,VMenu:O.a})},521:function(t,e,r){"use strict";r.r(e);r(308);var n=r(27),o=r(37),c=r(42),l=r(35),f=r(28),h=r(13),d=r(181);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){Object(c.a)(r,t);var e=v(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).baseUrl="https://shibusawa-lab.github.io/lab1",t}return Object(o.a)(r,[{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?url="+this.url+"&text="+this.title}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pocketUrl",get:function(){return"http://getpocket.com/edit?url="+this.url}}]),r}(d.Vue);m([Object(d.Prop)({required:!0})],y.prototype,"url",void 0),m([Object(d.Prop)({required:!0})],y.prototype,"title",void 0);var _=y=m([d.Component],y),w=r(103),R=r(142),k=r.n(R),x=r(235),j=r(220),C=r(218),O=r(542),component=Object(w.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.twitterUrl}},n),[r("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Twitter"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.facebookUrl}},n),[r("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Facebook"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.pocketUrl}},n),[r("img",{staticStyle:{"font-size":"24px"},attrs:{src:t.baseUrl+"/img/icons/pocket.svg"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("Pocket"))])])],1)}),[],!1,null,null,null);e.default=component.exports;k()(component,{VBtn:x.a,VCard:j.a,VIcon:C.a,VTooltip:O.a})},616:function(t,e,r){"use strict";r.r(e);r(14),r(32),r(232),r(52);var n=r(16),o=r(525),c=r(184),l=r(527),f=r(132),h=r.n(f),d=r(515),v={components:{GChart:l.GChart,ResultOption:d.default},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,l,f,h,d,v,m,y,i,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n=t.app,!r){e.next=5;break}return e.abrupt("return",{item:r});case 5:return l=n.context.params.id,f=n.context.params.entity,h=o(c.a.appId,c.a.apiKey),d=h.initIndex("dev_MAIN"),e.next=11,d.searchForFacetValues("year","",{filters:f+":"+l,maxFacetHits:100});case 11:return v=e.sent,e.next=14,d.search("",{filters:f+":"+l,hitsPerPage:50});case 14:for(m=e.sent,y={},i=0;i<m.hits.length;i++)_=m.hits[i],w=_.year,y[w]||(y[w]=[]),y[w].push(_);return e.abrupt("return",{results:m.hits,items:y,field:f,facets:v.facetHits});case 18:case"end":return e.stop()}}),e)})))()},data:function(){return{baseUrl:"https://shibusawa-lab.github.io/lab1",chartOptions:{chart:{title:"Company Performance",subtitle:"Sales, Expenses, and Profit: 2014-2017"}},entities:[],uri:""}},head:function(){var title=this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}},computed:{total:function(){for(var t=0,e=this.facets,i=0;i<e.length;i++){t+=e[i].count}return t},chartData:function(){for(var t=2e3,e=0,r=this.facets,n={},i=0;i<r.length;i++){var o=r[i],c=Number(o.value);n[c]=o.count,t>c&&(t=c),e<c&&(e=c)}for(var l=[["Year","Appearances"]],f=t;f<e+1;f++){var h=0;n[f]&&(h=n[f]),l.push([f+"",h])}return l},title:function(){return this.id},id:function(){return this.$route.params.id},url:function(){return this.baseUrl+this.$route.path},entity:function(){var t=this.entities;return t.length>0?t[0]:{}},bh:function(){var t=this.field;return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"})},{text:this.$t(t),disabled:!1,to:this.localePath({name:"entity-id",params:{id:"spatial"===t?"place":t}}),exact:!0},{text:this.title}]}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var map,r,n,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return map={spatial:"place",temporal:"time",agential:"chname"},"兜町"===(r=t.id)&&(r="日本橋兜町"),n="https://nakamura196.github.io/repo/api/"+map[t.field]+"/"+r,t.uri=n,o="\n      PREFIX schema: <http://schema.org/>\n      PREFIX type: <https://jpsearch.go.jp/term/type/>\n      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n      PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      PREFIX owl: <http://www.w3.org/2002/07/owl#>\n      PREFIX dct: <http://purl.org/dc/terms/>\n      PREFIX hpdb: <https://w3id.org/hpdb/api/>\n      PREFIX sh: <http://www.w3.org/ns/shacl#>\n      SELECT DISTINCT * WHERE {\n        ?s rdfs:label ?label . \n        filter (?s = <".concat(n,">)\n        optional { ?s schema:description ?description } \n        optional { ?s schema:image ?image } \n      }\n      LIMIT 1\n    "),c=(c="https://dydra.com/ut-digital-archives/shibusawa/sparql?query=")+encodeURIComponent(o)+"&output=json",e.next=10,h.a.get(c);case 10:l=e.sent,f=l.data,t.entities=f;case 13:case"end":return e.stop()}}),e)})))()},methods:{getQuery:function(label,t){var e={};return e["dev_MAIN[refinementList][".concat(label,"][0]")]=t,e},getValues:function(data){return data?Array.isArray(data)?data:[data]:[]},dwnJson:function(){var t=this.item.objectID+".xml",data=this.item.xml,link=document.createElement("a");link.href="data:text/xml;charset=utf-8,"+encodeURIComponent(data),link.download=t,link.click()}}},m=r(103),y=r(142),_=r.n(y),w=r(522),R=r(235),k=r(220),x=r(528),j=r(510),C=r(218),O=r(177),P=r(529),I=r(57),S=r(535),V=r(542),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.bh},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),t.entity.image?r("v-sheet",{attrs:{color:"grey lighten-4"}},[r("v-img",{staticStyle:{height:"300px"},attrs:{src:t.entity.image,contain:""}})],1):t._e(),t._v(" "),r("v-container",{staticClass:"my-5"},[r("h1",[t._v(t._s(t.id))]),t._v(" "),t.entity.description?r("p",{staticClass:"my-5"},[t._v(t._s(t.entity.description))]):t._e(),t._v(" "),r("div",{staticClass:"text-center my-5"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mr-5",attrs:{href:t.baseUrl+"/snorql?describe="+t.uri,icon:""}},n),[r("v-img",{attrs:{contain:"",width:"30px",src:t.baseUrl+"/img/icons/rdf-logo.svg"}})],1)]}}])},[t._v(" "),r("span",[t._v(t._s(t.$t("RDF")))])]),t._v(" "),r("ResultOption",{attrs:{item:{url:t.baseUrl+"/snorql?describe="+t.uri,label:t.id}}})],1)]),t._v(" "),r("v-container",{staticClass:"my-5"},[t._e(),t._v(" "),r("v-card",{staticClass:"my-5",attrs:{flat:""}},[r("small",[r("h3",{staticClass:"mt-5 text-center"},[t._v("\n          "+t._s(t.total.toLocaleString()+" "+t.$t("items"))+"\n        ")])]),t._v(" "),r("GChart",{staticClass:"pb-10",attrs:{type:"ColumnChart",data:t.chartData,options:t.chartOptions}})],1),t._v(" "),r("h2",{staticClass:"mt-10 text-center"},[t._v("\n      "+t._s(t.$t("items"))+"\n      "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{to:t.localePath({name:"search",query:t.getQuery(t.field,t.id)}),icon:""}},n),[r("v-icon",[t._v("mdi-magnify")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s(t.$t("search")))])])],1),t._v(" "),t.total>50?r("div",{staticClass:"text-center"},[r("small",[t._v("（"+t._s(t.$t("上位"))+" 50 "+t._s(t.$t("items"))+"）")])]):t._e(),t._v(" "),r("v-simple-table",{staticClass:"mt-10",scopedSlots:t._u([{key:"default",fn:function(){return[r("tbody",t._l(t.items,(function(e,n){return r("tr",{key:n},[r("td",{attrs:{width:"30%"}},[t._v(t._s(n)+"（"+t._s(e.length)+"）")]),t._v(" "),r("td",{staticClass:"py-5",staticStyle:{"overflow-wrap":"break-word"}},t._l(e,(function(e,n){return r("nuxt-link",{key:n,staticClass:"mr-5",attrs:{to:t.localePath({name:"item-id",params:{id:e.objectID}})}},[t._v("\n                "+t._s(e.label)+"\n              ")])})),1)])})),0)]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{ResultOption:r(515).default}),_()(component,{VBreadcrumbs:w.a,VBtn:R.a,VCard:k.a,VCol:x.a,VContainer:j.a,VIcon:C.a,VImg:O.a,VRow:P.a,VSheet:I.a,VSimpleTable:S.a,VTooltip:V.a})}}]);