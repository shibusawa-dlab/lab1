(window.webpackJsonp=window.webpackJsonp||[]).push([[34,10,13,15],{535:function(t,e,n){var content=n(536);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("dc0628f2",content,!0,{sourceMap:!1})},536:function(t,e,n){var r=n(17)(!1);r.push([t.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:1;pointer-events:none}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),t.exports=r},540:function(t,e,n){var content=n(541);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("7132a15d",content,!0,{sourceMap:!1})},541:function(t,e,n){var r=n(17)(!1);r.push([t.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),t.exports=r},544:function(t,e,n){"use strict";n.r(e);n(325);var r=n(29),o=n(39),c=n(43),l=n(37),h=n(30),d=n(11),v=n(181);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=function(t){Object(c.a)(n,t);var e=f(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).baseUrl="https://shibusawa-dlab.github.io/lab1",t}return Object(o.a)(n,[{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?url="+this.url+"&text="+this.title}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pocketUrl",get:function(){return"http://getpocket.com/edit?url="+this.url}}]),n}(v.Vue);m([Object(v.Prop)({required:!0})],y.prototype,"url",void 0),m([Object(v.Prop)({required:!0})],y.prototype,"title",void 0);var _=y=m([v.Component],y),k=n(104),w=n(141),x=n.n(w),O=n(243),j=n(221),C=n(219),R=n(547),component=Object(k.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.twitterUrl}},r),[n("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Twitter"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.facebookUrl}},r),[n("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Facebook"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.pocketUrl}},r),[n("img",{staticStyle:{"font-size":"24px"},attrs:{src:t.baseUrl+"/img/icons/pocket.svg"}})])]}}])},[t._v(" "),n("span",[t._v(t._s("Pocket"))])])],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VBtn:O.a,VCard:j.a,VIcon:C.a,VTooltip:R.a})},547:function(t,e,n){"use strict";n(15);var r=n(4),o=(n(535),n(100)),c=n(36),l=n(142),h=n(106),d=n(143),v=n(182),f=n(44),m=n(2),y=n(10),_=n(9);e.a=Object(_.a)(c.a,l.a,h.a,d.a,v.a,f.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!(this.bottom||this.left||this.top||this.right),r=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||n?o=r+e.width/2-content.width/2:(this.left||this.right)&&(o=r+(this.right?e.width:-content.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!1!==this.attach?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=n+(this.bottom?e.height:-content.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=n+e.height/2-content.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(r+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(m.g)(this.maxWidth),minWidth:Object(m.g)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(m.q)(this,"activator",!0)&&Object(y.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=o.a.options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===m.t.esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var content=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[content]):content},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(r.a)(t,this.contentClass,!0),Object(r.a)(t,"menuable__content__active",this.isActive),Object(r.a)(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},548:function(t,e,n){"use strict";n.r(e);n(325);var r=n(29),o=n(39),c=n(43),l=n(37),h=n(30),d=n(11),v=n(181),f=n(544);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},_=function(t){Object(c.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"title",get:function(){return this.item.label}},{key:"url",get:function(){return this.item.url}}]),n}(v.Vue);y([Object(v.Prop)()],_.prototype,"item",void 0);var k=_=y([Object(v.Component)({components:{ShareButtons:f.default}})],_),w=n(104),x=n(141),O=n.n(x),j=n(243),C=n(219),R=n(515),component=Object(w.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{depressed:"",icon:""}},r),[n("v-icon",[t._v("mdi-share-variant")])],1)]}}])},[t._v(" "),n("ShareButtons",{attrs:{url:t.url,title:t.title}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{VBtn:j.a,VIcon:C.a,VMenu:R.a})},551:function(t,e,n){"use strict";var r=n(4),o=(n(540),n(32));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=o.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:l({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:l({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},559:function(t,e,n){"use strict";n.r(e);n(45),n(15),n(325),n(66),n(35),n(64),n(237),n(51);var r=n(13),o=n(29),c=n(39),l=n(43),h=n(37),d=n(30),v=n(11),f=n(181),m=n(122),y=n.n(m);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},w=n(562).Network;function x(){for(var t="#",i=0;i<6;i++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}function O(p){return"http://schema.org/agential"===p?"":"http://schema.org/spatial"===p?"":"http://schema.org/temporal"===p?"":""}var j=function(t){Object(l.a)(h,t);var e,n=_(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).nodes=[],t.edges=[],t.options={nodes:{},edges:{color:"lightgray"}},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,c,l,h,i,d,s,label,v,p,f,m,_,k,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u,e="\n        SELECT DISTINCT ?p ?s ?label ?keyword ?label_k count(?cho) as ?count \n        ?s2 ?label2 count(?cho2) as ?count2 WHERE { \n          BIND(<".concat(u,"> as ?s)\n          ?cho ?p2 ?s . \n          ?s rdfs:label ?label . \n          ?cho ?p ?keyword . \n          filter (?p != rdf:type && ?p != schema:inLanguage \n          && ?p != schema:temporal && ?p != jps:relationType \n          && ?p != jps:region && ?p != schema:license)\n          filter(?s != ?keyword)\n          ?keyword rdfs:label ?label_k . \n          filter(?label_k != '不明' && ?label_k != 'unknown / not defined')\n        } order by desc(?count) limit 20\n      "),t.next=4,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json");case 4:n=t.sent,r=n.data.results.bindings,o=[],c=[],l={},h={"http://schema.org/agential":"#9E9E9E","http://schema.org/about":"#4CAF50","http://schema.org/spatial":"#FF9800","http://schema.org/temporal":"#795548","http://schema.org/category":"#E91E63","http://schema.org/isPartOf":"#9C27B0"},i=0;case 11:if(!(i<r.length)){t.next=30;break}if(d=r[i],s=d.s.value,l[s]||(l[s]={label:d.label.value,index:Object.keys(l).length,icon:O("http://schema.org/agential"),uri:s,p:"http://schema.org/agential"}),label=d.label.value,label=d.name?d.name.value:label,"不明"!==(v=d.label_k.value)){t.next=20;break}return t.abrupt("continue",27);case 20:for(p=d.p.value,f=["creator","publisher","contributor","provider"],m=0;m<f.length;m++)p=p.replace("http://schema.org/"+f[m],"http://schema.org/agential");h[p]||(h[p]=x()),_=d.keyword.value,l[_]||(l[_]={label:v,index:Object.keys(l).length,icon:O(p),uri:_,p:p}),c.push({from:l[s].index,to:l[_].index,value:Math.min(Number(d.count.value),1e3),title:d.p.value+"（"+Number(d.count.value).toLocaleString()+"）",arrows:"to",color:h[p]});case 27:i++,t.next=11;break;case 30:for(k in l)w=l[k],o.push({id:w.index,label:w.label,shape:"icon",icon:{code:w.icon},uri:w.uri,p:w.p});this.nodes=o,this.edges=c;case 33:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onNodeSelected",value:function(t){var e=t.nodes;if(e.length>0){var n=this.nodes[e[0]],r="item",o={};"http://schema.org/spatial"===n.p?(r="entity",o={entity:"spatial"}):"http://schema.org/about"===n.p&&(r="keyword"),this.$router.push(this.localePath({name:r,params:o,query:{id:n.uri}}),(function(){}),(function(){}))}}}]),h}(f.Vue);k([Object(f.Prop)()],j.prototype,"u",void 0),k([Object(f.Watch)("u")],j.prototype,"watchU",null);var C=j=k([Object(f.Component)({components:{network:w}})],j),R=n(104),I=n(141),P=n.n(I),$=n(221),S=n(534),component=Object(R.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.nodes.length>0?n("v-container",[n("h2",{staticClass:"mt-5 mb-3 text-center"},[t._v(t._s(t.$t("network")))]),t._v(" "),n("v-card",{attrs:{"no-body":"",outlined:"",flat:""}},[n("network",{ref:"network",staticStyle:{height:"600px"},attrs:{nodes:t.nodes,edges:t.edges,options:t.options},on:{click:t.onNodeSelected}})],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;P()(component,{Network:n(559).default}),P()(component,{VCard:$.a,VContainer:S.a})},719:function(t,e,n){"use strict";n.r(e);n(68),n(48),n(325),n(66),n(35),n(64),n(237),n(56),n(51);var r=n(13),o=n(29),c=n(39),l=n(43),h=n(37),d=n(30),v=n(11),f=n(181),m=n(563),y=n.n(m),_=n(183),k=n(122),w=n.n(k),x=n(548);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},C=n(562).Network,R=function(t){Object(l.a)(h,t);var e,n=O(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).baseUrl="https://shibusawa-dlab.github.io/lab1",t.nodesMap={},t.dialog=!0,t.otherId="",t.items=[],t.documents={},t.network={nodes:[],edges:[],options:{nodes:{color:{background:"lightgray",highlight:{background:"lightgray",border:"#FF6E00"}},borderWidth:4,borderWidthSelected:4,shapeProperties:{useBorderWithImage:!0}},edges:{color:"orange"},physics:{enabled:!0,stabilization:{enabled:!0,iterations:20}},layout:{randomSeed:2}}},t.item2={_source:{_thumbnail:["http://commons.wikimedia.org/wiki/Special:FilePath/Asano_souichiro.jpg?width=300"],_label:["浅野総一郎"],description:["浅野 総一郎（淺野總一郎 あさの そういちろう、1848年4月13日（嘉永元年3月10日） - 1930年（昭和5年）11月9日）は、日本の実業家。一代で浅野財閥を築いた。"]}},t}return Object(c.a)(h,[{key:"item",get:function(){return{_id:this.$route.params.id,_source:{_thumbnail:["mdi-account"],_label:[this.$route.params.id],_url:[this.baseUrl+this.localePath({name:"entity-entity-id",params:{entity:"agential",id:this.$route.params.id}})]}}}},{key:"title",get:function(){return this.$route.params.id+"のネットワーク"}},{key:"bh",get:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("network"),disabled:!1,to:this.localePath({name:"network"}),exact:!0},{text:this.title}]}},{key:"created",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,i,c,map,l,h,d,v,f,m,k,x,O,j,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.params.id,"list"===this.$route.query.mode&&(this.dialog=!this.dialog),t.next=5,w.a.get(this.baseUrl+"/data/agentials/"+e+".json");case 5:for(n=t.sent,r=n.data.nodes,this.network.edges=n.data.edges,o={},i=0;i<r.length;i++)c=r[i],o[c.id]=c;for(this.network.nodes=r,map={},l=0;l<n.data.edges.length;l++)(h=n.data.edges[l]).from!==e&&h.to!==e||(h.from===e?map[h.to]=h.value:map[h.from]=h.value);return(d=Object.keys(map).map((function(t){return{key:t,value:map[t]}}))).sort((function(a,b){return a.value<b.value?1:a.value>b.value?-1:0})),this.items=d,this.nodesMap=o,v=y()(_.a.appId,_.a.apiKey),f=v.initIndex("dev_MAIN"),t.next=22,f.search("",{filters:"agential:"+e,hitsPerPage:200});case 22:for(n=t.sent,m={},k=0;k<n.hits.length;k++)for(x=n.hits[k],O=x.agential,j=0;j<O.length;j++)C=O[j],m[C]||(m[C]=[]),m[C].push(x);this.documents=m,this.$refs.network.selectNodes([this.$route.params.id]);case 28:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onNodeSelected",value:function(t){var e=t.nodes;if(e.length>0){var n=this.nodesMap[e[0]].id;n!==this.$route.params.id?this.otherId=n:this.otherId=""}else this.otherId=""}},{key:"aaa",value:function(t){var e=t.nodes;if(e.length>0){var n=this.nodesMap[e[0]].id;n!==this.$route.params.id?this.$router.push(this.localePath({name:"network-id",params:{id:n}})):this.otherId=""}else this.otherId=""}},{key:"select",value:function(t){this.otherId="",t!==this.$route.params.id&&(this.otherId=t);var e=this.$refs.network;e.selectNodes([t]),e.focus(t)}},{key:"stabilized",value:function(){this.network.options.physics.enabled=!1}},{key:"head",value:function(){return{title:this.title}}},{key:"highlightRelation",value:function(t,e){t=(t=String(t).replace(/<[^>]*>?/gm,"")).split(e).join('<span style="font-size : large; font-weight: bold; background-color: #FFF59D;">'+e+"</span>");var n=this.$route.params.id;return t=t.split(n).join('<span style="font-size : large; font-weight: bold; background-color: #FFF59D;">'+n+"</span>")}},{key:"toggle",value:function(){this.dialog=!this.dialog;var t=this.dialog?"network":"list";this.$router.push(this.localePath({name:"network-id",params:{id:this.$route.params.id},query:{mode:t}}))}}]),h}(f.Vue),I=R=j([Object(f.Component)({components:{network:C,ResultOption:x.default}})],R),P=n(104),$=n(141),S=n.n($),M=n(549),V=n(243),D=n(221),A=n(96),T=n(545),E=n(534),L=n(551),N=n(219),B=n(177),F=n(222),U=n(134),z=n(223),W=n(225),H=n(98),Y=n(546),J=n(61),X=n(531),component=Object(P.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-sheet",{attrs:{color:"grey lighten-2"}},[n("v-container",{staticClass:"py-4",attrs:{fluid:""}},[n("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.bh},scopedSlots:t._u([{key:"divider",fn:function(){return[n("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),n("v-container",{staticClass:"py-5",attrs:{fluid:""}},[n("h2",[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"mt-2"},[t._v("\n      同一の日記に3回以上登場する人物を繋げています。正確な関連性を知るためには、「つながりを表すアイテム」から本文をご覧ください。ノードをダブルクリックすることで、当該人物のネットワークに遷移します。\n    ")]),t._v(" "),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",sm:3}},[n("v-card",{staticClass:"mb-5",attrs:{flat:"",outlined:""}},[t.nodesMap[t.$route.params.id]&&t.nodesMap[t.$route.params.id].image?n("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:t.nodesMap[t.$route.params.id].image,contain:"",width:"100%"}}):t._e(),t._v(" "),n("div",{staticClass:"pa-4",style:"max-height: 200px; overflow-y: auto;"},[n("nuxt-link",{attrs:{to:t.item.to||t.localePath({name:"entity-entity-id",params:{entity:"agential",id:t.item._id}})}},[n("h4",{domProps:{innerHTML:t._s(t.$utils.formatArrayValue(t.item._source._label))}})]),t._v(" "),t.nodesMap[t.$route.params.id]&&t.nodesMap[t.$route.params.id].description?[n("div",{staticClass:"mt-2"},[t._v("\n                "+t._s(t.nodesMap[t.$route.params.id].description)+"\n              ")])]:t._e()],2),t._v(" "),t.item.share_hide?t._e():[n("v-divider"),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.toggle()}}},[n("v-icon",{staticClass:"mr-2"},[t._v(t._s(t.dialog?"mdi-file":"mdi-account-network"))]),t._v(t._s(t.dialog?"つながりを一覧する":"ネットワークをみる"))],1),t._v(" "),t.dialog?n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.select(t.$route.params.id)}}},[t._v(t._s("フォーカス"))]):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("ResultOption",{attrs:{item:{label:t.$utils.formatArrayValue(t.item._source._label),url:t.$utils.formatArrayValue(t.item._source._url)}}})],1)]],2),t._v(" "),t.otherId?n("v-card",{staticClass:"mb-5",attrs:{flat:"",outlined:""}},[t.nodesMap[t.otherId]&&t.nodesMap[t.otherId].image?n("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:t.nodesMap[t.otherId].image,contain:"",width:"100%"}}):t._e(),t._v(" "),n("div",{staticClass:"pa-4",style:"max-height: 200px; overflow-y: auto;"},[n("nuxt-link",{attrs:{to:t.localePath({name:"entity-entity-id",params:{entity:"agential",id:t.otherId}})}},[n("h4",[t._v(t._s(t.otherId))])]),t._v(" "),t.nodesMap[t.otherId]&&t.nodesMap[t.otherId].description?[n("div",{staticClass:"mt-2"},[t._v("\n                "+t._s(t.nodesMap[t.otherId].description)+"\n              ")])]:t._e()],2),t._v(" "),t.item.share_hide?t._e():[n("v-divider"),t._v(" "),n("v-card-actions",[t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("ResultOption",{attrs:{item:{label:t.otherId,url:t.baseUrl+t.localePath({name:"entity-entity-id",params:{entity:"agential",id:t.otherId}})}}})],2)]],2):t._e(),t._v(" "),t._e(),t._v(" "),t._e()],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:9}},[n("v-row",{directives:[{name:"show",rawName:"v-show",value:t.dialog,expression:"dialog"}]},[n("v-col",{attrs:{cols:"12",sm:9}},[n("network",{ref:"network",staticStyle:{height:"800px","background-color":"#f0f4c3"},attrs:{nodes:t.network.nodes,edges:t.network.edges,options:t.network.options},on:{click:t.onNodeSelected,"double-click":t.aaa,stabilized:t.stabilized}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:3}},[n("v-sheet",{staticClass:"grey lighten-3 pa-2"},[n("h3",[n("v-icon",[t._v("mdi-view-list")]),t._v(" 人物一覧")],1)]),t._v(" "),n("v-list",{staticStyle:{"max-height":"800px","overflow-y":"auto"},attrs:{dense:""}},t._l(t.nodesMap,(function(e,r){return n("v-list-item",{key:r,on:{click:function(e){return t.select(r)}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:e.image}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(r)}})],1)],1)})),1)],1)],1),t._v(" "),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.dialog,expression:"!dialog"}],staticClass:"mt-0",attrs:{dense:""}},[n("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"9"}},[n("div",{staticClass:"grey lighten-2 mb-5",staticStyle:{height:"850px","overflow-y":"auto"}},[t._v("\n               \n              "),t._l(t.items,(function(e,r){return n("v-card",{key:r,staticClass:"mb-5 mx-5",attrs:{flat:"",outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("nuxt-link",{attrs:{to:e.to||t.localePath({name:"entity-entity-id",params:{entity:"agential",id:e.key}})}},[n("h3",[t._v(t._s(e.key))])]),t._v(" "),n("div",{staticClass:"mt-2"},[t._v("\n                      "+t._s(t.nodesMap[e.key].description)+"\n                    ")])],1),t._v(" "),n("v-list-item-avatar",{attrs:{tile:"",size:"80"}},[n("v-img",{attrs:{src:t.nodesMap[e.key].image,contain:""}})],1)],1),t._v(" "),n("div",{staticClass:"pa-4 grey lighten-3"},[n("h4",{staticClass:"mb-4"},[n("v-icon",[t._v("mdi-file")]),t._v(" つながりを表すアイテム\n                  ")],1),t._v(" "),t._l(t.documents[e.key],(function(r,o){return n("div",{key:o,staticClass:"px-2"},[n("h4",{staticClass:"my-2"},[n("nuxt-link",{attrs:{to:t.localePath({name:"item-id",params:{id:r.objectID}})}},[t._v(t._s(r.label)+"\n                        "),n("small",[t._v("（"+t._s(r.objectID)+"）")])]),t._v(" "),n("small",[n("b",[t._v(t._s(r.temporal))])])],1),t._v(" "),n("div",{staticClass:"mb-2",staticStyle:{"max-height":"200px","overflow-y":"auto"},domProps:{innerHTML:t._s(t.highlightRelation(t.$utils.removeHead(t.$utils.xml2html(r._highlightResult.xml.value)),e.key))}}),t._v(" "),n("v-divider")],1)})),t._v(" "),t.nodesMap[r]&&t.nodesMap[r].description?[n("div",{staticClass:"mt-2"},[t._v("\n                      "+t._s(t.nodesMap[r].description)+"\n                    ")])]:t._e()],2)],1)}))],2)]),t._v(" "),n("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"3"}},[n("v-sheet",{staticClass:"grey lighten-3 pa-2"},[n("h3",[n("v-icon",[t._v("mdi-view-list")]),t._v(" つながり一覧")],1)]),t._v(" "),n("v-list",{staticStyle:{"max-height":"800px","overflow-y":"auto"},attrs:{dense:""}},t._l(t.items,(function(e){return n("v-list-item",{key:e.key,on:{click:function(n){t.otherId=e.key}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.nodesMap[e.key].image}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.key)}})],1),t._v(" "),n("v-list-item-action",[t._v("\n                  "+t._s(e.value)+"\n                ")])],1)})),1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;S()(component,{Network:n(559).default}),S()(component,{VBreadcrumbs:M.a,VBtn:V.a,VCard:D.a,VCardActions:A.a,VCol:T.a,VContainer:E.a,VDivider:L.a,VIcon:N.a,VImg:B.a,VList:F.a,VListItem:U.a,VListItemAction:z.a,VListItemAvatar:W.a,VListItemContent:H.a,VListItemTitle:H.b,VRow:Y.a,VSheet:J.a,VSpacer:X.a})}}]);