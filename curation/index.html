
<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="css/icviewer-embedded.bundle.css">
    <script src="js/icviewer-embedded.bundle.min.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
    </style>
  </head>
  <body>
    <div id="image_canvas2" style="height: 100%;"></div>
    <script>
        (function() {

          var vars = {};
          var param = location.search.substring(1).split('&');
          for (var i = 0; i < param.length; i++) {
            var keySearch = param[i].search(/=/);
            var key = '';
            if (keySearch != -1) key = param[i].slice(0, keySearch);
            var val = param[i].slice(param[i].indexOf('=', 0) + 1);
            if (key != '') vars[key] = decodeURI(val);
          }
          
          let data = {}
          if(vars["manifest"]){
            const manifest = vars["manifest"]
            data = {
              manifest
            }
            if(vars["canvas"]){
              data.canvas = decodeURIComponent(vars["canvas"])
            }
            else if(vars["pos"]){
              data.pos = Number(vars["pos"])
            }
          }

          IIIFCurationViewerEmbedded({
              id: 'image_canvas2',
              data
          });
      })();
    </script>
  </body>  
</html>